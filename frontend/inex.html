<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkPro Analytics Dashboard</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <!-- Move Chart.js to lazy load later -->
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <h1>LinkPro Analytics</h1>
            <div class="profile-selector">
                <label for="profileId">Profile ID:</label>
                <input type="number" id="profileId" value="1" min="1">
                <button id="refreshBtn">Refresh Data</button>
                <span id="cacheIndicator" class="cache-indicator">Cached</span>
            </div>
            <div class="date-filters">
                <input type="date" id="startDate">
                <input type="date" id="endDate">
                <button id="applyDateFilter">Apply Filter</button>
            </div>
        </header>

        <main class="dashboard-main">
            <!-- Key Metrics Cards - Load immediately -->
            <section class="metrics-cards">
                <!-- Metric cards content -->
            </section>

            <!-- Charts Section - Lazy load when scrolled into view -->
            <section class="charts-grid lazy-section" data-load="charts">
                <div class="chart-container chart-placeholder">
                    <h3>Traffic Over Time</h3>
                    <div class="skeleton-loader">
                        <div class="skeleton-text">Loading chart...</div>
                    </div>
                    <canvas id="timeChart" style="display: none;"></canvas>
                </div>
                <div class="chart-container chart-placeholder">
                    <h3>Traffic Sources</h3>
                    <div class="skeleton-loader">
                        <div class="skeleton-text">Loading chart...</div>
                    </div>
                    <canvas id="trafficChart" style="display: none;"></canvas>
                </div>
                <div class="chart-container chart-placeholder">
                    <h3>Link Performance</h3>
                    <div class="skeleton-loader">
                        <div class="skeleton-text">Loading chart...</div>
                    </div>
                    <canvas id="linksChart" style="display: none;"></canvas>
                </div>
                <div class="chart-container chart-placeholder">
                    <h3>Hourly Activity</h3>
                    <div class="skeleton-loader">
                        <div class="skeleton-text">Loading chart...</div>
                    </div>
                    <canvas id="hourlyChart" style="display: none;"></canvas>
                </div>
            </section>

            <!-- Links Table - Lazy load -->
            <section class="links-table-section lazy-section" data-load="table">
                <h3>Individual Link Analytics</h3>
                <div class="skeleton-loader" id="tableLoader">
                    <div class="skeleton-text">Loading table...</div>
                </div>
                <table id="linksTable" style="display: none;">
                    <!-- Table content -->
                </table>
            </section>

            <!-- Activity Feed - Lazy load -->
            <section class="activity-feed lazy-section" data-load="activity">
                <h3>Recent Activity</h3>
                <div class="skeleton-loader" id="activityLoader">
                    <div class="skeleton-text">Loading activity...</div>
                </div>
                <div id="activityList" class="activity-list" style="display: none;">
                </div>
            </section>
        </main>
    </div>

    <script src="js/api.js"></script>
    <script src="js/lazy-loader.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>